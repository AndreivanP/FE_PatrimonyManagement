{"ast":null,"code":"import _defineProperty from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthenticationService from'../../authentication/AuthenticationService';var LoginComponent=/*#__PURE__*/function(_Component){_inherits(LoginComponent,_Component);var _super=_createSuper(LoginComponent);function LoginComponent(props){var _this;_classCallCheck(this,LoginComponent);_this=_super.call(this,props);_this.state={username:'Andreivan',password:'',hasLoginFailed:false,showSuccesMessage:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.loginClicked=_this.loginClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginComponent,[{key:\"handleChange\",value:function handleChange(event){//console.log(this.state);\nthis.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"loginClicked\",value:function loginClicked(){var _this2=this;AuthenticationService.executeJwtAuthenticationService(this.state.username,this.state.password).then(function(response){AuthenticationService.registerSuccessfulLoginJwt(_this2.state.username,response.data.token);_this2.props.history.push(\"/dashboard\");}).catch(function(){_this2.setState({showSuccesMessage:false});_this2.setState({hasLoginFailed:true});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Login\"),/*#__PURE__*/React.createElement(\"div\",null,this.state.hasLoginFailed&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-warning\"},\"Invalid Credentials\"),this.state.showSuccesMessage&&/*#__PURE__*/React.createElement(\"div\",null,\"Login Sucessful\"),\"User Name: \",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",value:this.state.username,onChange:this.handleChange}),\"Password: \",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.loginClicked},\"Login\")));}}]);return LoginComponent;}(Component);// function ShowInvalidCredentials(props) {    \n//     if(props.hasLoginFailed) {        \n//         return <div>Invalid Credentials</div>\n//     }\n//     return null        \n// }\n// function ShowLoginSuccesMessage(props) {    \n//     if(props.showSuccesMessage) {        \n//         return <div>Login Sucessful</div>\n//     }\n//     return null        \n// }\nexport default LoginComponent;","map":{"version":3,"sources":["/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/LoginComponent.jsx"],"names":["React","Component","AuthenticationService","LoginComponent","props","state","username","password","hasLoginFailed","showSuccesMessage","handleChange","bind","loginClicked","event","setState","target","name","value","executeJwtAuthenticationService","then","response","registerSuccessfulLoginJwt","data","token","history","push","catch"],"mappings":"gnCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,4CAAlC,C,GAEMC,CAAAA,c,gHACF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,WADD,CAETC,QAAQ,CAAE,EAFD,CAGTC,cAAc,CAAE,KAHP,CAITC,iBAAiB,CAAE,KAJV,CAAb,CAMA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CATe,aAWlB,C,6EAEYE,K,CAAO,CAChB;AACA,KAAKC,QAAL,oBACKD,KAAK,CAACE,MAAN,CAAaC,IADlB,CACyBH,KAAK,CAACE,MAAN,CAAaE,KADtC,GAGH,C,mDAEc,iBACXf,qBAAqB,CAACgB,+BAAtB,CAAsD,KAAKb,KAAL,CAAWC,QAAjE,CAA2E,KAAKD,KAAL,CAAWE,QAAtF,EACKY,IADL,CACW,SAACC,QAAD,CAAc,CACjBlB,qBAAqB,CAACmB,0BAAtB,CAAiD,MAAI,CAAChB,KAAL,CAAWC,QAA5D,CAAsEc,QAAQ,CAACE,IAAT,CAAcC,KAApF,EACA,MAAI,CAACnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,eACH,CAJL,EAIOC,KAJP,CAIc,UAAM,CACZ,MAAI,CAACZ,QAAL,CAAc,CAAEL,iBAAiB,CAAE,KAArB,CAAd,EACA,MAAI,CAACK,QAAL,CAAc,CAAEN,cAAc,CAAE,IAAlB,CAAd,EACH,CAPL,EAQH,C,uCAEQ,CACL,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,sCADJ,cAEI,+BAGK,KAAKH,KAAL,CAAWG,cAAX,eAA6B,2BAAK,SAAS,CAAC,qBAAf,wBAHlC,CAIK,KAAKH,KAAL,CAAWI,iBAAX,eAAgC,iDAJrC,4BAKe,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAE,KAAKJ,KAAL,CAAWC,QAArD,CAA+D,QAAQ,CAAE,KAAKI,YAA9E,EALf,2BAMc,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAE,KAAKL,KAAL,CAAWE,QAAzD,CAAmE,QAAQ,CAAE,KAAKG,YAAlF,EANd,cAOI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKE,YAAlD,UAPJ,CAFJ,CADJ,CAcH,C,4BA/CwBX,S,EAkD7B;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,cAAeE,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport AuthenticationService from '../../authentication/AuthenticationService'\n\nclass LoginComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            username: 'Andreivan',\n            password: '',\n            hasLoginFailed: false,\n            showSuccesMessage: false\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.loginClicked = this.loginClicked.bind(this);\n\n    }\n\n    handleChange(event) {\n        //console.log(this.state);\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    loginClicked() {\n        AuthenticationService.executeJwtAuthenticationService(this.state.username, this.state.password)\n            .then( (response) => {\n                AuthenticationService.registerSuccessfulLoginJwt(this.state.username, response.data.token)\n                this.props.history.push(`/dashboard`)                \n            }).catch( () => {\n                this.setState({ showSuccesMessage: false })\n                this.setState({ hasLoginFailed: true })\n            })\n    }\n\n    render() {\n        return (\n            <div className=\"text-center\">\n                <h1 >Login</h1>\n                <div >\n                    {/* <ShowInvalidCredentials hasLoginFailed={this.state.hasLoginFailed}></ShowInvalidCredentials>\n                    <ShowLoginSuccesMessage showSuccesMessage={this.state.showSuccesMessage}></ShowLoginSuccesMessage> */}\n                    {this.state.hasLoginFailed && <div className=\"alert alert-warning\">Invalid Credentials</div>}\n                    {this.state.showSuccesMessage && <div>Login Sucessful</div>}\n                    User Name: <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange}></input>\n                    Password: <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange}></input>\n                    <button className=\"btn btn-success\" onClick={this.loginClicked}>Login</button>\n                </div>\n            </div>\n        )\n    }\n}\n\n// function ShowInvalidCredentials(props) {    \n//     if(props.hasLoginFailed) {        \n//         return <div>Invalid Credentials</div>\n//     }\n//     return null        \n// }\n\n// function ShowLoginSuccesMessage(props) {    \n//     if(props.showSuccesMessage) {        \n//         return <div>Login Sucessful</div>\n//     }\n//     return null        \n// }\n\nexport default LoginComponent"]},"metadata":{},"sourceType":"module"}