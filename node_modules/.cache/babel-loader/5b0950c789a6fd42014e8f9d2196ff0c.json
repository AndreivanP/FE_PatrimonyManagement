{"ast":null,"code":"var _jsxFileName = \"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/ListAssetComponent.jsx\";\nimport React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService';\nimport AssetDataService from '../../api/AssetDataService';\n\nclass ListAssetComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      assets: [],\n      message: null,\n      assetControl: null\n    };\n    this.loadAssets = this.loadAssets.bind(this);\n    this.addAsset = this.addAsset.bind(this);\n    this.updateAsset = this.updateAsset.bind(this);\n    this.deleteAsset = this.deleteAsset.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadAssets();\n  }\n\n  loadAssets() {\n    let username = AuthenticationService.getLoggedInUserName();\n    let token = AuthenticationService.getLoggedInToken();\n    AssetDataService.retrieveAllAssets(username, token).then(response => {\n      this.setState({\n        assets: response.data\n      });\n    });\n  }\n\n  addAsset() {\n    let username = AuthenticationService.getLoggedInUserName();\n    this.props.history.push(`/users/${username}/assets/new`);\n  }\n\n  updateAsset(id) {\n    let username = AuthenticationService.getLoggedInUserName();\n    let token = AuthenticationService.getLoggedInToken();\n    this.props.history.push(`/users/${username}/assets/${id}`);\n  }\n\n  deleteAsset(id) {\n    let username = AuthenticationService.getLoggedInUserName();\n    let token = AuthenticationService.getLoggedInToken();\n    AssetDataService.deleteAsset(username, id, token).then(response => {\n      this.setState({\n        message: `Delete of asset ${id} successful.`\n      });\n      this.loadAssets();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Your Assets\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.addAsset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"Add New Asset\"))), this.state.message && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 44\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, \"Initial Value\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Current Value\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Company\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, this.state.assets.map(asset => /*#__PURE__*/React.createElement(\"tr\", {\n      key: asset.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 45\n      }\n    }, asset.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 45\n      }\n    }, asset.initial_value), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 45\n      }\n    }, asset.current_value), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, asset.company), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"brn btn-warning\",\n      onClick: () => this.updateAsset(asset.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 49\n      }\n    }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"brn btn-danger\",\n      onClick: () => this.deleteAsset(asset.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 49\n      }\n    }, \"Delete\"))))))));\n  }\n\n}\n\nexport default ListAssetComponent;","map":{"version":3,"sources":["/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/ListAssetComponent.jsx"],"names":["React","Component","AuthenticationService","AssetDataService","ListAssetComponent","constructor","props","state","assets","message","assetControl","loadAssets","bind","addAsset","updateAsset","deleteAsset","componentDidMount","username","getLoggedInUserName","token","getLoggedInToken","retrieveAllAssets","then","response","setState","data","history","push","id","render","map","asset","name","initial_value","current_value","company"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService'\nimport AssetDataService from '../../api/AssetDataService'\n\nclass ListAssetComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            assets: [],\n            message: null,\n            assetControl: null,            \n        }\n        this.loadAssets = this.loadAssets.bind(this);\n        this.addAsset = this.addAsset.bind(this);       \n        this.updateAsset = this.updateAsset.bind(this);     \n        this.deleteAsset = this.deleteAsset.bind(this);      \n    }\n\n    componentDidMount() {\n        this.loadAssets();        \n    }\n\n    loadAssets() {\n        let username = AuthenticationService.getLoggedInUserName();        \n        let token = AuthenticationService.getLoggedInToken();        \n        AssetDataService.retrieveAllAssets(username, token)\n            .then(\n                response => {\n                    this.setState(\n                        {assets : response.data}                       \n                    )\n                }\n            )                \n    }\n\n    addAsset() {\n        let username = AuthenticationService.getLoggedInUserName();\n        this.props.history.push(`/users/${username}/assets/new`);\n    }\n\n    updateAsset(id) {\n        let username = AuthenticationService.getLoggedInUserName();\n        let token = AuthenticationService.getLoggedInToken();        \n        this.props.history.push(`/users/${username}/assets/${id}`);\n    }\n\n    deleteAsset(id) {\n        let username = AuthenticationService.getLoggedInUserName();\n        let token = AuthenticationService.getLoggedInToken();        \n        AssetDataService.deleteAsset(username, id, token)\n        .then(\n            response => {\n                this.setState({message : `Delete of asset ${id} successful.`});\n                this.loadAssets();\n            }\n        )\n    }\n\n    render() {        \n        return (        \n            <div className=\"text-center\">\n                <h1>Your Assets\n                    <div className=\"text-right\">\n                        <button className=\"btn btn-success\" onClick={this.addAsset}>Add New Asset</button>\n                    </div>\n                </h1>\n                    {this.state.message && <div className=\"alert alert-success\">{this.state.message}</div>}\n                <div >\n                    <table className=\"table\">\n                        <thead>\n                            <tr>                                \n                                <th>Name</th>                                \n                                <th>Initial Value</th>                                \n                                <th>Current Value</th>\n                                <th>Company</th>\n                            </tr>\n                        </thead>                        \n                        <tbody>                            \n                            {\n                                this.state.assets.map(                                    \n                                    asset =>\n                                        <tr key={asset.id}>                                            \n                                            <td>{asset.name}</td>\n                                            <td>{asset.initial_value}</td>\n                                            <td>{asset.current_value}</td>\n                                            <td>{asset.company}</td>\n                                            <td><button className=\"brn btn-warning\" onClick={() => this.updateAsset(asset.id)}>Update</button></td>\n                                            <td><button className=\"brn btn-danger\" onClick={() => this.deleteAsset(asset.id)}>Delete</button></td>\n                                        </tr>                                        \n                                )\n                            }                            \n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ListAssetComponent"]},"metadata":{},"sourceType":"module"}