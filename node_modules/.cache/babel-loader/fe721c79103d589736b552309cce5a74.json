{"ast":null,"code":"var _jsxFileName = \"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/FinancialComponent.jsx\";\nimport React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService';\nimport AssetDataService from '../../api/AssetDataService';\nimport AssetControlDataService from \"../../api/AssetControlDataService\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nlet username = AuthenticationService.getLoggedInUserName();\nlet token = AuthenticationService.getLoggedInToken();\n\nclass ListAssetComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: null,\n      variableIncomeTotal: null,\n      totalValueToBeInvested: null\n    };\n    this.calcVariableIncome = this.calcVariableIncome.bind(this);\n    this.calcFixedIncome = this.calcFixedIncome.bind(this);\n  }\n\n  componentDidMount() {\n    AssetDataService.getCurrentTotal(username, token).then(response => this.setState({\n      total: response.data.current_total,\n      variableIncomeTotal: response.data.variable_income_total\n    }));\n  }\n\n  calcVariableIncome(value) {\n    let tempVariableInc = (this.state.total + parseFloat(value)) / 100 * 20;\n    console.log(\"jucaa \" + value);\n\n    if (typeof value == 'undefined' || value == \"\") {\n      return 0;\n    } else {\n      return this.state.variableIncomeTotal - tempVariableInc;\n    }\n  }\n\n  calcFixedIncome(value) {\n    if (typeof value == 'undefined' || value == \"\") {\n      return 0;\n    } else {\n      return value - this.calcVariableIncome(value);\n    }\n  }\n\n  render() {\n    const formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2\n    });\n    let {\n      total,\n      variableIncomeTotal,\n      totalValueToBeInvested\n    } = this.state;\n    total = formatter.format(total);\n    variableIncomeTotal = formatter.format(variableIncomeTotal);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"asset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Formik, {\n      initialValues: {\n        total,\n        variableIncomeTotal,\n        totalValueToBeInvested\n      },\n      validateOnChange: false,\n      validateOnBlur: false,\n      validate: this.validate,\n      enableReinitialize: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, props => /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }, \"Total Patrimony:\"), /*#__PURE__*/React.createElement(Field, {\n      className: \"readOnlyField\",\n      type: \"text\",\n      name: \"total\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 23\n      }\n    }, \"Variable Income Total:\"), /*#__PURE__*/React.createElement(Field, {\n      className: \"readOnlyField\",\n      type: \"text\",\n      name: \"variableIncomeTotal\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    }, \"Value to be Invested:\"), /*#__PURE__*/React.createElement(Field, {\n      className: \"fieldCategA\",\n      type: \"text\",\n      name: \"valueToBeInvested\",\n      value: props.values.valueToBeInvested,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, \"You Should Invest in Variable Income:\"), /*#__PURE__*/React.createElement(Field, {\n      className: \"readOnlyField\",\n      type: \"text\",\n      name: \"investVarInc\",\n      value: formatter.format(this.calcVariableIncome(props.values.valueToBeInvested)),\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 23\n      }\n    }, \"You Should Invest in Fixed Income:\"), /*#__PURE__*/React.createElement(Field, {\n      className: \"readOnlyField\",\n      type: \"text\",\n      name: \"investFixInc\",\n      value: formatter.format(this.calcFixedIncome(props.values.valueToBeInvested)),\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }))))));\n  }\n\n}\n\nexport default ListAssetComponent;","map":{"version":3,"sources":["/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/FinancialComponent.jsx"],"names":["React","Component","AuthenticationService","AssetDataService","AssetControlDataService","Formik","Form","Field","ErrorMessage","username","getLoggedInUserName","token","getLoggedInToken","ListAssetComponent","constructor","props","state","total","variableIncomeTotal","totalValueToBeInvested","calcVariableIncome","bind","calcFixedIncome","componentDidMount","getCurrentTotal","then","response","setState","data","current_total","variable_income_total","value","tempVariableInc","parseFloat","console","log","render","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","format","validate","values","valueToBeInvested"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService'\nimport AssetDataService from '../../api/AssetDataService'\nimport AssetControlDataService from \"../../api/AssetControlDataService\"\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\n\nlet username = AuthenticationService.getLoggedInUserName();        \nlet token = AuthenticationService.getLoggedInToken(); \n\nclass ListAssetComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            total : null,\n            variableIncomeTotal : null,\n            totalValueToBeInvested : null\n        }\n        this.calcVariableIncome = this.calcVariableIncome.bind(this);\n        this.calcFixedIncome = this.calcFixedIncome.bind(this);\n    }\n\n    componentDidMount() {\n        AssetDataService.getCurrentTotal(username, token)\n        .then(response => this.setState({\n            total : response.data.current_total,\n            variableIncomeTotal : response.data.variable_income_total,\n        }));          \n    }\n\n    calcVariableIncome(value) {\n        let tempVariableInc = (this.state.total + parseFloat(value)) / 100 * 20;\n        console.log(\"jucaa \"+value);\n        if (typeof(value) == 'undefined'  || value == \"\") {\n            return 0;\n        } else {\n            return this.state.variableIncomeTotal - tempVariableInc;  \n        } \n    }\n\n    calcFixedIncome(value) {\n        if (typeof(value) == 'undefined' || value == \"\") {\n            return 0;\n        } else {\n            return value - this.calcVariableIncome(value);\n        }\n    }\n\n    render() {\n        const formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'BRL',\n            minimumFractionDigits: 2\n          })\n        let {total, variableIncomeTotal, totalValueToBeInvested} = this.state;\n        total = formatter.format(total);\n        variableIncomeTotal = formatter.format(variableIncomeTotal);\n    \n        return (\n          <div className=\"text-center\">\n            <div className=\"asset\">\n              <Formik\n                initialValues={{total, variableIncomeTotal, totalValueToBeInvested}}\n                validateOnChange={false}\n                validateOnBlur={false}\n                validate={this.validate}\n                enableReinitialize={true}\n              >\n                {(props) => (\n                  <Form>\n                    <fieldset className=\"form-group\">\n                      <label>Total Patrimony:</label>\n                      <Field className=\"readOnlyField\" type=\"text\" name=\"total\" readOnly/>\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>Variable Income Total:</label>\n                      <Field className=\"readOnlyField\" type=\"text\" name=\"variableIncomeTotal\" readOnly/>\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>Value to be Invested:</label>\n                      <Field className=\"fieldCategA\" type=\"text\" name=\"valueToBeInvested\" value={props.values.valueToBeInvested}/> \n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>You Should Invest in Variable Income:</label>\n                      <Field className=\"readOnlyField\" type=\"text\" name=\"investVarInc\" value={formatter.format(this.calcVariableIncome(props.values.valueToBeInvested))} readOnly/>\n                    </fieldset>\n                    <fieldset className=\"form-group\">\n                      <label>You Should Invest in Fixed Income:</label>\n                      <Field className=\"readOnlyField\" type=\"text\" name=\"investFixInc\" value={formatter.format(this.calcFixedIncome(props.values.valueToBeInvested))} readOnly/>\n                    </fieldset>\n                  </Form>\n                ) }\n              </Formik>\n            </div>\n          </div>\n        );\n      }\n}\n\nexport default ListAssetComponent"]},"metadata":{},"sourceType":"module"}