{"ast":null,"code":"var _jsxFileName = \"/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/ListAssetComponent.jsx\";\nimport React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService';\nimport AssetDataService from '../../api/AssetDataService';\nimport AssetControlDataService from \"../../api/AssetControlDataService\";\nlet username = AuthenticationService.getLoggedInUserName();\nlet token = AuthenticationService.getLoggedInToken();\n\nclass ListAssetComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      assets: [],\n      message: null,\n      assetControl: null\n    };\n    this.loadAssets = this.loadAssets.bind(this);\n    this.addAsset = this.addAsset.bind(this);\n    this.updateAsset = this.updateAsset.bind(this);\n    this.deleteAsset = this.deleteAsset.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"DidMount\");\n    this.loadAssets();\n  }\n\n  loadAssets() {\n    console.log(\"Load Assets\");\n    AssetDataService.retrieveAllAssets(username, token).then(response => {\n      this.setState({\n        assets: response.data\n      });\n    });\n  }\n\n  addAsset() {\n    this.props.history.push(`/users/${username}/assets/new`);\n  }\n\n  updateAsset(id) {\n    this.props.history.push(`/users/${username}/assets/${id}`);\n  }\n\n  deleteAsset(id) {\n    AssetDataService.deleteAsset(username, id, token).then(response => {\n      AssetControlDataService.createAssetCurrentValue(username, token);\n      this.setState({\n        message: `Successfully deleted asset id ${id}`\n      });\n      this.loadAssets();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Your Assets\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.addAsset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, \"Add New Asset\"))), this.state.message && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 44\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Initial Value\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, \"Current Value\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, \"Company\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, this.state.assets.map(asset => /*#__PURE__*/React.createElement(\"tr\", {\n      key: asset.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 45\n      }\n    }, asset.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, asset.initial_value), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, asset.current_value), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }\n    }, asset.company), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"brn btn-warning\",\n      onClick: () => this.updateAsset(asset.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 49\n      }\n    }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"brn btn-danger\",\n      onClick: () => this.deleteAsset(asset.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 49\n      }\n    }, \"Delete\"))))))));\n  }\n\n}\n\nexport default ListAssetComponent;","map":{"version":3,"sources":["/Users/Andreivan/git_study/FE_PatrimonyManagement/patrimony-management/src/components/patrimony_management/ListAssetComponent.jsx"],"names":["React","Component","AuthenticationService","AssetDataService","AssetControlDataService","username","getLoggedInUserName","token","getLoggedInToken","ListAssetComponent","constructor","props","state","assets","message","assetControl","loadAssets","bind","addAsset","updateAsset","deleteAsset","componentDidMount","console","log","retrieveAllAssets","then","response","setState","data","history","push","id","createAssetCurrentValue","render","map","asset","name","initial_value","current_value","company"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AuthenticationService from '../../authentication/AuthenticationService'\nimport AssetDataService from '../../api/AssetDataService'\nimport AssetControlDataService from \"../../api/AssetControlDataService\"\n\nlet username = AuthenticationService.getLoggedInUserName();        \nlet token = AuthenticationService.getLoggedInToken(); \n\nclass ListAssetComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            assets: [],\n            message: null,\n            assetControl: null,            \n        }\n        this.loadAssets = this.loadAssets.bind(this);\n        this.addAsset = this.addAsset.bind(this);       \n        this.updateAsset = this.updateAsset.bind(this);     \n        this.deleteAsset = this.deleteAsset.bind(this);      \n    }\n\n    componentDidMount() {\n        console.log(\"DidMount\")\n        this.loadAssets();        \n    }\n\n    loadAssets() {\n        console.log(\"Load Assets\")\n\n        AssetDataService.retrieveAllAssets(username, token)\n            .then(\n                response => {\n                    this.setState(\n                        {assets : response.data}                       \n                    )\n                }\n            )                \n    }\n\n    addAsset() {\n        this.props.history.push(`/users/${username}/assets/new`);\n    }\n\n    updateAsset(id) {\n        this.props.history.push(`/users/${username}/assets/${id}`);\n    }\n\n    deleteAsset(id) {\n        AssetDataService.deleteAsset(username, id, token)\n        .then(\n            response => {\n                AssetControlDataService.createAssetCurrentValue(username, token);\n                this.setState({message : `Successfully deleted asset id ${id}`});\n                this.loadAssets();\n            }\n        )\n        \n    }\n\n    render() {        \n        return (        \n            <div className=\"text-center\">\n                <h1>Your Assets\n                    <div className=\"text-right\">\n                        <button className=\"btn btn-success\" onClick={this.addAsset}>Add New Asset</button>\n                    </div>\n                </h1>\n                    {this.state.message && <div className=\"alert alert-success\">{this.state.message}</div>}\n                <div >\n                    <table className=\"table\">\n                        <thead>\n                            <tr>                                \n                                <th>Name</th>                                \n                                <th>Initial Value</th>                                \n                                <th>Current Value</th>\n                                <th>Company</th>\n                            </tr>\n                        </thead>                        \n                        <tbody>                            \n                            {\n                                this.state.assets.map(                                    \n                                    asset =>\n                                        <tr key={asset.id}>                                            \n                                            <td>{asset.name}</td>\n                                            <td>{asset.initial_value}</td>\n                                            <td>{asset.current_value}</td>\n                                            <td>{asset.company}</td>\n                                            <td><button className=\"brn btn-warning\" onClick={() => this.updateAsset(asset.id)}>Update</button></td>\n                                            <td><button className=\"brn btn-danger\" onClick={() => this.deleteAsset(asset.id)}>Delete</button></td>\n                                        </tr>                                        \n                                )\n                            }                            \n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ListAssetComponent"]},"metadata":{},"sourceType":"module"}